<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Students List</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.4.1/js/dataTables.responsive.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <style>
    /* Custom Creative Dark Theme Styles */
    body {
        background-color: #0d0d1a; /* Even darker base */
        color: #e4e4e7;
        background-image: radial-gradient(#2a2a3e 1px, transparent 0);
        background-size: 40px 40px;
    }
    .neon-button {
        transition: all 0.3s ease-in-out;
    }
    .neon-button:hover {
        box-shadow: 0 0 8px #8b5cf6, 0 0 15px #c4b5fd;
    }
    .dark-card {
        background-color: rgba(32, 32, 50, 0.7); /* Glassmorphism transparency */
        backdrop-filter: blur(5px);
        border: 1px solid rgba(168, 85, 247, 0.3); /* Purple border */
    }
    .hover-scale:hover {
        transform: scale(1.01);
    }
    /* DataTables Dark Mode Overrides */
    .dataTables_wrapper .dataTables_filter input,
    .dataTables_wrapper .dataTables_length select,
    .dataTables_wrapper .dataTables_info,
    .dataTables_wrapper .dataTables_paginate .paginate_button {
        color: #e4e4e7 !important;
    }
    .dataTables_wrapper .dataTables_paginate .paginate_button {
        background: #3b3b55 !important;
        border: 1px solid #3b3b55 !important;
        color: #e4e4e7 !important;
    }
    .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
        background: #50506e !important;
        border: 1px solid #50506e !important;
    }
    .dataTables_wrapper .dataTables_paginate .current {
        background: #a855f7 !important; /* Active purple */
        border-color: #a855f7 !important;
        color: white !important;
    }
    #studentsTable {
        background-color: #2a2a3e !important;
    }
    #studentsTable thead {
        background-color: #7b4397 !important;
    }
    #studentsTable th {
        color: white !important;
        background-color: #4a285d !important;
    }
    #studentsTable tbody tr {
        background-color: #2a2a3e !important;
    }
    #studentsTable tbody tr:nth-child(even) {
        background-color: #3b3b55 !important;
    }
    #studentsTable tbody tr:hover {
        background-color: #50506e !important;
    }
  </style>
</head>

<body class="min-h-screen">
  <h1 class="text-4xl font-extrabold text-center text-purple-400 py-8 bg-[#121223] shadow-xl">ðŸŽ“ Registered Student Database</h1>

  <div class="max-w-7xl mx-auto dark-card shadow-xl p-8 rounded-lg mt-6 overflow-x-auto transform transition-all hover-scale">
    <button onclick="window.location.href='/'" class="bg-purple-600 hover:bg-purple-700 text-white px-5 py-2 rounded-lg font-semibold mb-6 transition shadow-md transform hover:scale-105 neon-button">
      â¬… Back to Home Console
    </button>

    <table id="studentsTable" class="display nowrap w-full text-sm">
      <thead class="bg-purple-500 text-white">
        <tr>
          <th class="py-3 px-4 text-left">ID</th>
          <th class="py-3 px-4 text-left">Name</th>
          <th class="py-3 px-4 text-left">Program</th>
          <th class="py-3 px-4 text-left">Branch</th>
          <th class="py-3 px-4 text-left">Mobile</th>
          <th class="py-3 px-4 text-left">Email</th>
        </tr>
      </thead>
      <tbody>
        {% for s in students %}
        <tr class="odd:bg-white even:bg-gray-50 hover:bg-purple-900/50 transition duration-150">
          <td class="py-2 px-4">{{ s[0] }}</td>
          <td class="py-2 px-4 font-medium">{{ s[1] }}</td>
          <td class="py-2 px-4">{{ s[2] }}</td>
          <td class="py-2 px-4">{{ s[3] }}</td>
          <td class="py-2 px-4">{{ s[4] }}</td>
          <td class="py-2 px-4">{{ s[5] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

<script>
  $(document).ready(function () {
    $('#studentsTable').DataTable({
      responsive: true,
      dom: 'Bfrtip',
      buttons: [
        {
          extend: 'collection',
          text: 'Export Data â¬‡',
          buttons: ['copy', 'csv', 'excel', 'pdf', 'print'],
          className: 'bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-lg font-semibold transition duration-300 transform hover:shadow-lg neon-button'
        }
      ],
      scrollX: true
    });
  });
</script>

</body>
</html>
